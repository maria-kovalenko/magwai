const loadMoreBtn=document.getElementById("load-more"),span=document.querySelector(".cards__load-more-span"),postsContainer=document.querySelector(".cards__wrapper");let postCount=10;function fetchPosts(){toggleLoading(!0),fetch("https://jsonplaceholder.typicode.com/posts?_limit=5&_start="+postCount).then(t=>t.json()).then(t=>{t.forEach(({title:t,body:n})=>{postsContainer.innerHTML+=`\n            <article class="cards__card card">\n              <div class="card__image-wrapper">\n                <img src="./img/card-img-1.webp" alt="Coins" class="card__image" />\n              </div>\n              <div class="card__content">\n                <h3 class="card__category">BRIDGE</h3>\n                <p class="card__title">${t}</p>\n                <p class="card__description">${n}</p>\n                <p class="card__date">Posted by <span>Eugenia</span> on July 24, 2019</p>\n                <button class="card__button button button--fill">Continue reading</button>\n              </div>\n            </article>`}),truncateTextInCards(),postCount+=5,postCount>=30&&(loadMoreBtn.style.display="none")}).catch(console.error).finally(()=>toggleLoading(!1))}function toggleLoading(t){span.textContent=t?"":"Загрузить еще",span.classList.toggle("spinner",t)}loadMoreBtn.addEventListener("click",fetchPosts);
document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".burger-menu"),t=document.querySelector(".header__nav"),n=document.querySelectorAll(".header__nav .nav__link"),d=document.querySelector(".header__buttons");e.addEventListener("click",()=>{(o=>{e.setAttribute("aria-expanded",o),t.setAttribute("aria-hidden",!o),d.classList.toggle("open",o),document.body.classList.toggle("open",o),n.forEach(e=>e.setAttribute("tabindex",o?"0":"-1"))})(e.classList.toggle("active"))})});
function truncateTextInCards(){document.querySelectorAll(".card__description").forEach(t=>{const e=t.textContent;for(t.textContent=e;t.scrollHeight>144;)t.textContent=t.textContent.replace(/(\s+\S+)?$/,"")+"..."})}truncateTextInCards();